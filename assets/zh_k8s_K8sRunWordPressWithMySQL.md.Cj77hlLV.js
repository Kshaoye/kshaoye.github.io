import{_ as i,c as a,o as n,ag as h}from"./chunks/framework.z0p7P-Mv.js";const d=JSON.parse('{"title":"1 K8s运行中文版WordPress","description":"","frontmatter":{},"headers":[],"relativePath":"zh/k8s/K8sRunWordPressWithMySQL.md","filePath":"zh/k8s/K8sRunWordPressWithMySQL.md"}'),k={name:"zh/k8s/K8sRunWordPressWithMySQL.md"};function l(p,s,t,e,r,E){return n(),a("div",null,[...s[0]||(s[0]=[h(`<h1 id="_1-k8s运行中文版wordpress" tabindex="-1">1 K8s运行中文版WordPress <a class="header-anchor" href="#_1-k8s运行中文版wordpress" aria-label="Permalink to &quot;1 K8s运行中文版WordPress&quot;">​</a></h1><p>LNMP案例之基于Nginx+PHP实现WordPress博客站点， 要求Nginx+PHP运行在同一个Pod的不同容器。 中文版WordPress官网：<a href="https://cn.wordpress.org/" target="_blank" rel="noreferrer">https://cn.wordpress.org/</a> 历史版本下载：<a href="https://cn.wordpress.org/download/releases/" target="_blank" rel="noreferrer">https://cn.wordpress.org/download/releases/</a></p><p>截止2026年2月24日，WordPress(以下简称WP)最新版本已经更新到了6.9.1。 作为一款老牌PHP博客系统，WordPress长期占据着互联网上的各个角落，针对WordPress的渗透测试也一直在持续，甚至有专门的工具：WPScan。 因此，WP官方推荐使用最新的6.9系列以确保业务系统安全</p><h2 id="_1-1-准备php镜像" tabindex="-1">1.1 准备PHP镜像 <a class="header-anchor" href="#_1-1-准备php镜像" aria-label="Permalink to &quot;1.1 准备PHP镜像&quot;">​</a></h2><p>WP官方推荐推荐使用PHP8.3+以及MySQL 8.0+或MariaDB 10.6+部署6.9.1版本的WordPress。 因此，我们需要准备一个基于PHP8.3+的镜像来运行WordPress。</p><h3 id="_1-1-1-官方php镜像" tabindex="-1">1.1.1 官方PHP镜像 <a class="header-anchor" href="#_1-1-1-官方php镜像" aria-label="Permalink to &quot;1.1.1 官方PHP镜像&quot;">​</a></h3><p>镜像站：<a href="https://hub.docker.com/" target="_blank" rel="noreferrer">https://hub.docker.com/</a> PHP镜像：<a href="https://hub.docker.com/_/php/tags" target="_blank" rel="noreferrer">https://hub.docker.com/_/php/tags</a> Docker Hub上官方PHP镜像的标签（Tags）遵循一套清晰的命名规则：&lt;PHP版本号&gt;-&lt;变体(Variant)&gt;-&lt;操作系统(OS)&gt;。</p><ol><li>PHP 版本号 (&lt;PHP版本号&gt;)</li></ol><p>这部分直接指定了镜像中包含的 PHP 解释器的主版本或具体小版本。</p><p>主版本：如 8.2、8.3、8.4。选择主版本标签（如 php:8.2）会自动获取该主版本下的最新小版本更新，是平衡稳定与更新的常见选择。</p><p>具体小版本：如 8.2.12。用于锁定绝对具体的版本，以避免意外变化，适合对版本一致性要求极高的生产环境。</p><p>版本选择建议：对于新项目，建议选择最新的稳定版本（如 8.3 或 8.2）以获得更好的性能和新特性支持。 应避免使用已停止安全支持的旧版本（如 7.4），并且绝对不要使用 latest 标签，因为它不代表最新PHP版本，而仅代表最后更新的镜像，可能导致版本不可预测。</p><ol start="2"><li>变体 (&lt;变体(Variant)&gt;) 这是最关键的部分，决定了 PHP 的运行方式，直接影响如何与 Web 服务器配合。主要变体包括：</li></ol><p>-cli：命令行接口。仅用于运行 PHP 命令行脚本，如Composer、队列处理器或定时任务。不能处理 HTTP 请求。 -fpm：包含 PHP-FPM (FastCGI Process Manager)。用于处理 Web 请求，作为独立进程通过FastCGI协议与Nginx或Apache等Web服务器通信。这是用于生产环境Web应用的推荐选择。 -apache：镜像内集成了Apache服务器，PHP作为Apache模块运行。这种方式将Web服务器和PHP捆绑在同一个容器内，通常不推荐，因为它违背了Docker“一个容器一个进程”的最佳实践，且难以与宿主机上独立的Nginx等服务配合。 -zts：线程安全版本。主要用于某些特殊扩展，在Linux环境下极少使用。</p><ol start="3"><li>操作系统基础 (&lt;操作系统(OS)&gt;) 这部分指定了镜像所基于的底层 Linux 发行版，主要影响镜像体积、软件包管理和兼容性。</li></ol><p>Debian 系：如:-bookworm（当前 Debian Stable）、-bullseye（上一代）。 -alpine：基于 Alpine Linux。最大的优势是镜像体积非常小（通常只有几十MB），安全性高。但因为使用musl libc而非常见的glibc，可能导致某些PHP扩展（如 redis）出现兼容性问题，且需要手动安装更多依赖。</p><p>一个完整的标签如php:8.2.12-fpm-bookworm表示：PHP版本为8.2.12，运行模式为PHP-FPM，基于Debian Bookworm系统构建。</p><h3 id="_1-1-2-自制php镜像" tabindex="-1">1.1.2 自制PHP镜像 <a class="header-anchor" href="#_1-1-2-自制php镜像" aria-label="Permalink to &quot;1.1.2 自制PHP镜像&quot;">​</a></h3><p>基于RockyLinux基础镜像可以使用Remi仓库获取PHP镜像，DockerFile如下：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#PHP Base Image</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> harbor.zhou-kai.com/baseimages/myserver-rockylinux-base:9.3.20260214</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">LABEL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> maintainer=&quot;KevinCrimson &lt;k186@vip.qq..com&gt;&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      version=&quot;1.0&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      description=&quot;This is a myserver project image&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RUN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  https://mirrors.tuna.tsinghua.edu.cn/remi/enterprise/remi-release-9.rpm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  php83-php-fpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> php83-php-mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ADD</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> www.conf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/remi/php83/root/etc/php-fpm.d/www.conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ADD</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-entrypoint.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/docker-entrypoint.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EXPOSE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CMD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;docker-entrypoint.sh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p>build脚本</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TAG</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">$1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nerdctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> harbor.zhou-kai.com/myserver/wordpress-php-83:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\${TAG} </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;镜像制作完成，即将上传至Harbor服务器&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sleep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nerdctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> harbor.zhou-kai.com/myserver/wordpress-php-83:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\${TAG}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;镜像上传完成&quot;</span></span></code></pre></div><p>运行脚本</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># bash build-command.sh v1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 14.9s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1sbas</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7smys</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0sing</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 15.0s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 15.2s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 15.3s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 15.5s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 15.6s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 15.8s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 15.9s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 16.1s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 16.2s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 16.4s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 16.5s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 16.7s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 16.8s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 17.0s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 17.1s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 17.3s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 17.4s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6/9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                       </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                            0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/bas                                       eimages/myserver-rockylinux-base:9.3.20260214    0.7s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] baseimages/myserver-rockylinux-base:pull toke                                       n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                               0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 594.4s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">10/10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                                                     =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [internal] load build definition from Dockerf  0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 556B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">               0.0ss</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                                       [+] Building 595.2s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">10/10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) FINISHED</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerf  0.1s:                                        =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> transferring dockerfile: 556B               0.0s9                                        =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.  0.7s                                         =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [auth] baseimages/myserver-rockylinux-base:pu  0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                  0.0s                                         =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> transferring context: 2B                    0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CACHED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [1/4] FROM harbor.zhou-kai.com/baseima  0.2sg                                        =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> resolve harbor.zhou-kai.com/baseimages/mys  0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build context                  0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> context:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 19.60kB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">               0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [2/4] RUN yum install -y  https://mirrors.t  391.2s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [3/4] ADD www.conf /opt/remi/php83/root/etc/p  0.5s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [4/4] ADD docker-entrypoint.sh /usr/bin/docke  0.4s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">             200.8s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> layers</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                           18.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> manifest</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:0bf0fb495114c60a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:9a424d36b569137f2a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sending</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tarball</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                           182.7s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Loaded</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> harbor.zhou-kai.com/myserver/wordpress-php</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                                       -83:v1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">镜像制作完成，即将上传至Harbor服务器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">INFO[0000]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pushing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> as</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reduced-platform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (applicat                                       </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ion/vnd.docker.distribution.manifest.v2+json,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:0bf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       0fb495114c60ae1595a998413de688f3719129cb5914c570ebc74eee</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       b68f4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">manifest-sha256:0bf0fb495114c60ae1595a998413de688f371912</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       9cb5914c570ebc74eeeb68f4:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       ++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:427c81ffa31f6a8b078ec039eae1646a9bcaf6d735c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       9b22efa810704ad378f8c:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       ++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config-sha256:9a424d36b569137f2a2c5a6e2abf35a37f67a91f16</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       e444dd4ca11d827f8c7051:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       ++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:446f83f14b236772583d069e6f46a75e7e5456add65</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       6d1415a452618189fb825:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       ++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:724ea8ef63daeea414fcf2fe05d63005f861b7589b8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       4d9997adbd2920c71ecf9:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       ++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:d14c567a6cfd0bcbcfa81e5b13d6751bd2e3743f8b0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       c646ef4ba0d14342a27c3:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       ++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:e1781c22f3355ec601c35d242900fc1b1474cbf0064</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       3d9ea2b7b1f7df94088d9:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       ++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:c7813e8758b75e0127622b15f238975629ab8938f58</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       2350ccf210c2d8c0eff89:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       ++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">elapsed:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 22.1s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                           total:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  459.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (20.8 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">MiB/s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)                                          </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">镜像上传完成</span></span></code></pre></div><h2 id="_1-2-准备nginx镜像" tabindex="-1">1.2 准备Nginx镜像 <a class="header-anchor" href="#_1-2-准备nginx镜像" aria-label="Permalink to &quot;1.2 准备Nginx镜像&quot;">​</a></h2><h3 id="_1-2-1-准备nginx镜像dockerfile" tabindex="-1">1.2.1 准备Nginx镜像Dockerfile <a class="header-anchor" href="#_1-2-1-准备nginx镜像dockerfile" aria-label="Permalink to &quot;1.2.1 准备Nginx镜像Dockerfile&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> harbor.zhou-kai.com/pub-images/nginx-base:v1.28.1</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">LABEL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> maintainer=&quot;Crimson &lt;k186@qq..com&gt;&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      version=&quot;1.0&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      description=&quot;This is a nginx image for wordpress project&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ADD</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx.conf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /apps/nginx/conf/nginx.conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ADD</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-entrypoint.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /apps/nginx/sbin/docker-entrypoint.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RUN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -pv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/nginx/wordpress</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RUN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chown</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx.nginx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/nginx/wordpress/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EXPOSE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 80</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 443</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CMD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/apps/nginx/sbin/docker-entrypoint.sh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><h3 id="_1-2-2-构建nginx镜像" tabindex="-1">1.2.2 构建Nginx镜像 <a class="header-anchor" href="#_1-2-2-构建nginx镜像" aria-label="Permalink to &quot;1.2.2 构建Nginx镜像&quot;">​</a></h3><p>构建脚本</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># cat build-command.sh</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/bash</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TAG</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">$1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#docker build -t harbor.zhou-kai.com/myserver/wordpress-nginx:\${TAG} .</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nerdctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> harbor.zhou-kai.com/myserver/wordpress-nginx:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\${TAG} </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;镜像制作完成，即将上传至Harbor服务器&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sleep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nerdctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  harbor.zhou-kai.com/myserver/wordpress-nginx:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\${TAG}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;镜像上传完成&quot;</span></span></code></pre></div><p>执行构建</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># bash build-command.sh v1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 151.3s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">11/11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                      0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 152.1s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">11/11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 152.3s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">11/11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) FINISHED</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                      0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 480B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                      0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com/pub-images/nginx-base:v1.28.1        0.5s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [auth] pub-images/nginx-base:pull token </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> harbor.zhou-kai.com                       0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                         0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> context:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                           0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CACHED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [1/5] FROM harbor.zhou-kai.com/pub-images/nginx-base:v1.28.1@sha256:8ed416a4c  0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resolve</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> harbor.zhou-kai.com/pub-images/nginx-base:v1.28.1@sha256:8ed416a4c3145223</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build context                                                         0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> context:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3.67kB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                       0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [2/5] ADD nginx.conf /apps/nginx/conf/nginx.conf                                      0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [3/5] ADD docker-entrypoint.sh /apps/nginx/sbin/docker-entrypoint.sh                  0.3s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [4/5] RUN mkdir -pv /home/nginx/wordpress                                             1.2s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [5/5] RUN chown nginx.nginx /home/nginx/wordpress/ -R                                 0.8s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                    148.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> layers</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                   0.6s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> manifest</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:daff8b4e82a610c284412b7e06d40ddd46688de6e04d7353e3eed25</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  0.0s0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:144ec46c88c08e637a5243e884a72a26d5074f4619c401d362fdb7c57</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sending</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tarball</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                  147.2s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">镜像制作完成，即将上传至Harbor服务器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">INFO[0000]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pushing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> as</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reduced-platform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (application/vnd.docker.distribution.manifest.v2+json, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sha256:daff8b4e82a610c284412b7e06d40ddd46688de6e04d7353e3eed25c857f003c</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">manifest-sha256:daff8b4e82a610c284412b7e06d40ddd46688de6e04d7353e3eed25c857f003c:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:d0d8d90a937f4af2104236c7b38366410c2d3fe97f811773b7576f81b32a387d:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config-sha256:144ec46c88c08e637a5243e884a72a26d5074f4619c401d362fdb7c57f5dfadc:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:446f83f14b236772583d069e6f46a75e7e5456add656d1415a452618189fb825:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:724ea8ef63daeea414fcf2fe05d63005f861b7589b84d9997adbd2920c71ecf9:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:d14c567a6cfd0bcbcfa81e5b13d6751bd2e3743f8b0c646ef4ba0d14342a27c3:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:fed8c78e509c0878123025222d8c10354a99cfe853e81a08313918565942123a:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:65affb770ac39aac28d316f2a5e3516d51d7e0b190b9e3e420d8ac673f7d4d7e:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:c5d27a9fa3f2a757d3f6a9624d191779f17b483c5f9ee38664711f319e1ef44c:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:57312ff7936fdf452478b11a6bee229bcb977344546b8df931ca6ada10ec5652:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:99a88b94568c5edf3f0c777de88d3c9897ff40467f4ea426de798065604ecf5a:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:54f2a02827aea0aed0f19cb56f78ada1acf59ddbae4925b8523c2f3388bf5b0d:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">elapsed:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 18.9s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                    total:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  362.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (19.1 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">MiB/s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">镜像上传完成</span></span></code></pre></div><h2 id="_1-3-运行wordpress" tabindex="-1">1.3 运行WordPress <a class="header-anchor" href="#_1-3-运行wordpress" aria-label="Permalink to &quot;1.3 运行WordPress&quot;">​</a></h2><p>使用PHP镜像运行PHP环境，WordPress页面文件保存在后端存储NFS服务器。</p><h3 id="_1-3-0-准备工作" tabindex="-1">1.3.0 准备工作 <a class="header-anchor" href="#_1-3-0-准备工作" aria-label="Permalink to &quot;1.3.0 准备工作&quot;">​</a></h3><p>在NFS服务器创建目录：/data/k8sdata/myserver/wordpress</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root@ha01:/data/k8sdata/myserver/wordpress#</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://cn.wordpress.org/latest-zh_CN.zip</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --timeout=60</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tries=10</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--2026-02-24</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 16:27:32--</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  https://cn.wordpress.org/latest-zh_CN.zip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Resolving</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cn.wordpress.org</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (cn.wordpress.org)... 198.143.164.252, 2607:f978:5:8002::c68f:a4fc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Connecting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cn.wordpress.org</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (cn.wordpress.org)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">198.143.164.252</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:443...</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connected.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HTTP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> request</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sent,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> awaiting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> response...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 206</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Partial</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Content</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Length:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 36113540</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (34M), 13868583 (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">13M</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) remaining [application/zip]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Saving</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ‘latest-zh_CN.zip’</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">latest-zh_CN.zip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                        100%[++++++++++++++++++++++++++++++++++++++++++++++++=============================</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  34.44M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   639KB/s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 34s</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-24</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 16:28:08</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (393 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">KB/s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) - ‘latest-zh_CN.zip’ saved [36113540/36113540]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># unzip latest-zh_CN.zip</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># mv wordpress/* ./</span></span></code></pre></div><h3 id="_1-3-1-创建deployment" tabindex="-1">1.3.1 创建Deployment <a class="header-anchor" href="#_1-3-1-创建deployment" aria-label="Permalink to &quot;1.3.1 创建Deployment&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Deployment</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">apps/v1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wordpress-app</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wordpress-app-deployment</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  namespace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">myserver</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  replicas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  selector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    matchLabels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wordpress-app</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wordpress-app</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      containers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wordpress-app-nginx</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">harbor.zhou-kai.com/myserver/wordpress-nginx:v1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        imagePullPolicy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Always</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">containerPort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">TCP</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">containerPort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">443</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">TCP</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        volumeMounts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wordpress</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          mountPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/home/nginx/wordpress</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          readOnly</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wordpress-app-php</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">harbor.zhou-kai.com/myserver/wordpress-php-83:v1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        #imagePullPolicy: IfNotPresent</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        imagePullPolicy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Always</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">containerPort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9000</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">TCP</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">php</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        volumeMounts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wordpress</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          mountPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/home/nginx/wordpress</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          readOnly</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      volumes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wordpress</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        nfs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">172.31.7.109</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/data/k8sdata/myserver/wordpress</span></span></code></pre></div><h3 id="_1-3-2-创建service" tabindex="-1">1.3.2 创建Service <a class="header-anchor" href="#_1-3-2-创建service" aria-label="Permalink to &quot;1.3.2 创建Service&quot;">​</a></h3><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Service</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">v1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  labels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wordpress-app</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wordpress-app-service</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  namespace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">myserver</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">NodePort</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">TCP</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    targetPort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    nodePort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30031</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">443</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">TCP</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    targetPort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">443</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    nodePort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30033</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  selector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wordpress-app</span></span></code></pre></div><h3 id="_1-4-配置负载均衡" tabindex="-1">1.4 配置负载均衡 <a class="header-anchor" href="#_1-4-配置负载均衡" aria-label="Permalink to &quot;1.4 配置负载均衡&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myserver-nginx-80</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        bind</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 172.31.7.189:80</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tcp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node01</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 172.31.7.111:30031</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fall</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rise</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myserver-nginx-443</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        bind</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 172.31.7.189:443</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tcp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node01</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 172.31.7.111:30443</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> inter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fall</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rise</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span></span></code></pre></div><p>重启haproxy服务 systemctl reload haproxy.service</p>`,44)])])}const g=i(k,[["render",l]]);export{d as __pageData,g as default};
