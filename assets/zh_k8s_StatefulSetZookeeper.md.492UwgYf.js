import{_ as i,c as a,o as n,ag as h}from"./chunks/framework.z0p7P-Mv.js";const g=JSON.parse('{"title":"1 基于StatefulSet控制器的Zookeeper集群","description":"","frontmatter":{},"headers":[],"relativePath":"zh/k8s/StatefulSetZookeeper.md","filePath":"zh/k8s/StatefulSetZookeeper.md"}'),k={name:"zh/k8s/StatefulSetZookeeper.md"};function e(l,s,t,p,F,r){return n(),a("div",null,[...s[0]||(s[0]=[h(`<h1 id="_1-基于statefulset控制器的zookeeper集群" tabindex="-1">1 基于StatefulSet控制器的Zookeeper集群 <a class="header-anchor" href="#_1-基于statefulset控制器的zookeeper集群" aria-label="Permalink to &quot;1 基于StatefulSet控制器的Zookeeper集群&quot;">​</a></h1><p>基于PV和PVC作为后端存储，实现zookeeper集群</p><h2 id="_1-1-jdk镜像准备" tabindex="-1">1.1 JDK镜像准备 <a class="header-anchor" href="#_1-1-jdk镜像准备" aria-label="Permalink to &quot;1.1 JDK镜像准备&quot;">​</a></h2><p>参考： <a href="./LayeredBuildSystemImageAndWebServiceImage.html#_1-2-1-oraclejdk基础镜像制作">分层构建基础镜像</a></p><h2 id="_1-2-zookeeper镜像准备" tabindex="-1">1.2 zookeeper镜像准备 <a class="header-anchor" href="#_1-2-zookeeper镜像准备" aria-label="Permalink to &quot;1.2 zookeeper镜像准备&quot;">​</a></h2><p><a href="https://www.apache.org/dist/zookeeper" target="_blank" rel="noreferrer">https://www.apache.org/dist/zookeeper</a> #官方程序包下载官方网址</p><h3 id="_1-2-1-构建zookeeper镜像" tabindex="-1">1.2.1 构建zookeeper镜像 <a class="header-anchor" href="#_1-2-1-构建zookeeper镜像" aria-label="Permalink to &quot;1.2.1 构建zookeeper镜像&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># bash build-command.sh v1.0.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 75.8s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">14/14</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 77.5s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">14/14</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) FINISHED</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                                             0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1.75kB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                           0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> registry.cn-hangzhou.aliyuncs.com/myhubregistry/slim_java:8                                                                     1.4s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                                                0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> context:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                  0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [1/9] FROM registry.cn-hangzhou.aliyuncs.com/myhubregistry/slim_java:8@sha256:817d0af5d4f16c29509b8397784f5d4ec3accb1bfde4e474244ed3be7f41a604              10.9s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resolve</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry.cn-hangzhou.aliyuncs.com/myhubregistry/slim_java:8@sha256:817d0af5d4f16c29509b8397784f5d4ec3accb1bfde4e474244ed3be7f41a604</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">               0.3s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:6d987f6f42797d81a318c40d442369ba3dc124883a0964d40b0c8f4f7561d913</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1.99MB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1.99MB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                   2.4s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:7141511c4dad1bb64345a3cd38e009b1bcd876bba3e92be040ab2602e9de7d1e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3.19MB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3.19MB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                   2.6s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:fd529fe251b34db45de24e46ae4d8f57c5b8bbcfb1b8d8c6fb7fa9fcdca8905e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 27.33MB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 27.33MB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                 8.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> extracting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:6d987f6f42797d81a318c40d442369ba3dc124883a0964d40b0c8f4f7561d913</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                        2.8s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> extracting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:7141511c4dad1bb64345a3cd38e009b1bcd876bba3e92be040ab2602e9de7d1e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                        2.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> extracting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:fd529fe251b34db45de24e46ae4d8f57c5b8bbcfb1b8d8c6fb7fa9fcdca8905e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                        2.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build context                                                                                                                                7.6s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> context:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 37.75MB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                             7.6s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [2/9] ADD repositories /etc/apk/repositories                                                                                                                 0.4s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [3/9] COPY zookeeper-3.4.14.tar.gz /tmp/zk.tgz                                                                                                               0.9s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [4/9] COPY zookeeper-3.4.14.tar.gz.asc /tmp/zk.tgz.asc                                                                                                       0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [5/9] COPY KEYS /tmp/KEYS                                                                                                                                    0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [6/9] RUN apk add --no-cache --virtual .build-deps       ca-certificates         gnupg                   tar                     wget &amp;&amp;               </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  11.4s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [7/9] COPY conf /zookeeper/conf/                                                                                                                             0.3s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [8/9] COPY bin/zkReady.sh /zookeeper/bin/                                                                                                                    0.2s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [9/9] COPY entrypoint.sh /                                                                                                                                   0.2s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                            49.2s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> layers</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                         12.6s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> manifest</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:61d8d055f95c20381d8e59f40bcfe795ec6ac74cbd11b24f1ae80a630048f3f0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:95699ff8bec91bbdd94a037193093ddb6e38c9fb7a28eafd95b79029bdaa9266</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                  0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sending</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tarball</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                          36.4s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Loaded</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> harbor.zhou-kai.com/myserver/zookeeper:v1.0.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">INFO[0000]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pushing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> as</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reduced-platform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (application/vnd.docker.distribution.manifest.v2+json, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sha256:61d8d055f95c20381d8e59f40bcfe795ec6ac74cbd11b24f1ae80a630048f3f0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">manifest-sha256:61d8d055f95c20381d8e59f40bcfe795ec6ac74cbd11b24f1ae80a630048f3f0:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> waiting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--------------------------------------</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:5b3494ca878a264634547be25406f5ecd626ee91880a6b732a2e7731fd5b0b01:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    waiting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--------------------------------------</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config-sha256:95699ff8bec91bbdd94a037193093ddb6e38c9fb7a28eafd95b79029bdaa9266:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   waiting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--------------------------------------</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:6d987f6f42797d81a318c40d442369ba3dc124883a0964d40b0c8f4f7561d913:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    waiting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--------------------------------------</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:7141511c4dad1bb64345a3cd38e009b1bcd876bba3e92be040ab2602e9de7d1e:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    waiting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--------------------------------------</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:fd529fe251b34db45de24e46ae4d8f57c5b8bbcfb1b8d8c6fb7fa9fcdca8905e:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    waiting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--------------------------------------</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:6826761dea31511dd38c58f03228250f1835cce01068d48637a2ba309e1c21c3:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    waiting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--------------------------------------</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:0ce55cbfdd8e5b1faa84949bdb0b30b6e95b856fd45d13c2e4a8e45682d73431:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    waiting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--------------------------------------</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:c06c2c54f43957815d4d625fe73d078649c4085a31e549b4a21e68e93dc3546a:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    waiting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--------------------------------------</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:28685a0dfccd845c0a339cb99fd5a506a24f3fc7fddbcf97244a0a6c5480ba50:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    waiting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--------------------------------------</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:4fab7cb2c6bafb02dec3e1d4ded3b3fdbf94df96c26a4bb1a420c5cd207d77ef:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    waiting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--------------------------------------</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:726868ffc48327e9ba8f033e1ae6b33dc7e3d58e66cb5bcb27f5d9a2939ef924:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    waiting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--------------------------------------</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:c30a8fd0c141000021fb740f9a165d18e9eba11375c25685c7cbddc5941477b4:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    waiting</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--------------------------------------</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">elapsed:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                    total:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   0.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> B</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (0.0 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">B/s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ERRO[0000]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;harbor.zhou-kai.com&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> does</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seem</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> support</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> HTTPS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  error=&quot;failed to do request: Head </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://harbor.zhou-kai.com/v2/myserver/zookeeper/blobs/sha256:726868ffc48327e9ba8f033e1ae6b33dc7e3d58e66cb5bcb27f5d9a2939ef924</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">: dial tcp 172.31.7.104:443: connect: connection refused&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">INFO[0000]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Hint:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> you</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> may</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> want</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> try</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --insecure-registry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allow</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plain</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> HTTP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (if </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">you</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> are</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> trusted</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> network</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FATA[0000]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> failed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> do</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> request:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Head</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://harbor.zhou-kai.com/v2/myserver/zookeeper/blobs/sha256:726868ffc48327e9ba8f033e1ae6b33dc7e3d58e66cb5bcb27f5d9a2939ef924&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dial</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tcp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 172.31.7.104:443:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connect:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> connection</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> refused</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root@master01:/opt/k8s-data/dockerfile/web/myserver/zookeeper#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root@master01:/opt/k8s-data/dockerfile/web/myserver/zookeeper#</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root@master01:/opt/k8s-data/dockerfile/web/myserver/zookeeper#</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build-command.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v1.0.0</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 37.6s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">14/14</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                                             0.0s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[+] Building 37.8s (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">14/14</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) FINISHED</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build definition from Dockerfile                                                                                                             0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1.75kB</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                           0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load metadata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> registry.cn-hangzhou.aliyuncs.com/myhubregistry/slim_java:8                                                                     0.9s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load .dockerignore                                                                                                                                0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> context:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                  0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [1/9] FROM registry.cn-hangzhou.aliyuncs.com/myhubregistry/slim_java:8@sha256:817d0af5d4f16c29509b8397784f5d4ec3accb1bfde4e474244ed3be7f41a604               0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resolve</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry.cn-hangzhou.aliyuncs.com/myhubregistry/slim_java:8@sha256:817d0af5d4f16c29509b8397784f5d4ec3accb1bfde4e474244ed3be7f41a604</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">               0.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; [internal] load build context                                                                                                                                0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transferring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> context:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 336B</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CACHED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [2/9] ADD repositories /etc/apk/repositories                                                                                                          0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CACHED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [3/9] COPY zookeeper-3.4.14.tar.gz /tmp/zk.tgz                                                                                                        0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CACHED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [4/9] COPY zookeeper-3.4.14.tar.gz.asc /tmp/zk.tgz.asc                                                                                                0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CACHED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [5/9] COPY KEYS /tmp/KEYS                                                                                                                             0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CACHED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [6/9] RUN apk add --no-cache --virtual .build-deps       ca-certificates         gnupg                   tar                     wget &amp;&amp;              </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CACHED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [7/9] COPY conf /zookeeper/conf/                                                                                                                      0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CACHED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [8/9] COPY bin/zkReady.sh /zookeeper/bin/                                                                                                             0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">CACHED</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [9/9] COPY entrypoint.sh /                                                                                                                            0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> format</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                            36.1s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> layers</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                          0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> manifest</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:61d8d055f95c20381d8e59f40bcfe795ec6ac74cbd11b24f1ae80a630048f3f0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exporting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:95699ff8bec91bbdd94a037193093ddb6e38c9fb7a28eafd95b79029bdaa9266</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                  0.0s</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sending</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tarball</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                                                          36.0s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">INFO[0000]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pushing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> as</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reduced-platform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (application/vnd.docker.distribution.manifest.v2+json, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sha256:61d8d055f95c20381d8e59f40bcfe795ec6ac74cbd11b24f1ae80a630048f3f0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">manifest-sha256:61d8d055f95c20381d8e59f40bcfe795ec6ac74cbd11b24f1ae80a630048f3f0:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:5b3494ca878a264634547be25406f5ecd626ee91880a6b732a2e7731fd5b0b01:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config-sha256:95699ff8bec91bbdd94a037193093ddb6e38c9fb7a28eafd95b79029bdaa9266:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:6d987f6f42797d81a318c40d442369ba3dc124883a0964d40b0c8f4f7561d913:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:7141511c4dad1bb64345a3cd38e009b1bcd876bba3e92be040ab2602e9de7d1e:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:fd529fe251b34db45de24e46ae4d8f57c5b8bbcfb1b8d8c6fb7fa9fcdca8905e:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:6826761dea31511dd38c58f03228250f1835cce01068d48637a2ba309e1c21c3:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:0ce55cbfdd8e5b1faa84949bdb0b30b6e95b856fd45d13c2e4a8e45682d73431:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:c06c2c54f43957815d4d625fe73d078649c4085a31e549b4a21e68e93dc3546a:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:28685a0dfccd845c0a339cb99fd5a506a24f3fc7fddbcf97244a0a6c5480ba50:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:4fab7cb2c6bafb02dec3e1d4ded3b3fdbf94df96c26a4bb1a420c5cd207d77ef:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:726868ffc48327e9ba8f033e1ae6b33dc7e3d58e66cb5bcb27f5d9a2939ef924:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">layer-sha256:c30a8fd0c141000021fb740f9a165d18e9eba11375c25685c7cbddc5941477b4:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">++++++++++++++++++++++++++++++++++++++</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">elapsed:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4.9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                    total:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  101.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (20.6 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">MiB/s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="_1-2-2-测试zookeeper镜像" tabindex="-1">1.2.2 测试zookeeper镜像 <a class="header-anchor" href="#_1-2-2-测试zookeeper镜像" aria-label="Permalink to &quot;1.2.2 测试zookeeper镜像&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># nerdctl run -it --rm -p 2181:2181 harbor.zhou-kai.com/myserver/zookeeper:v1.0.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ZooKeeper</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> JMX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enabled</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ZooKeeper</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> JMX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9010</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ZooKeeper</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> JMX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> authenticate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ZooKeeper</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> JMX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ZooKeeper</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> JMX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log4j</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Using</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /zookeeper/bin/../conf/zoo.cfg</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,681</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:QuorumPeerConfig@136] - Reading configuration from: /zookeeper/bin/../conf/zoo.cfg</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,700</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,702</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:DatadirCleanupManager@79] - autopurge.purgeInterval set to 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,712</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - WARN  [main:QuorumPeerMain@116] - Either no config or no quorum defined in config, running  in standalone mode</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,714</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [PurgeTask:DatadirCleanupManager$PurgeTask@138] - Purge task started.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,748</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:QuorumPeerConfig@136] - Reading configuration from: /zookeeper/bin/../conf/zoo.cfg</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,754</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:ZooKeeperServerMain@98] - Starting server</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,889</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:Environment@100] - Server environment:zookeeper.version</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">3.4.14-4c25d480e66aadd371de8bd2fd8da255ac140bcf,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> built</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 03/06/2019</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 16:18</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GMT</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,897</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:Environment@100] - Server environment:host.name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">1473b261c4d7</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,899</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:Environment@100] - Server environment:java.version</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">1.8.0_144</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,904</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:Environment@100] - Server environment:java.vendor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Oracle</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Corporation</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,901</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [PurgeTask:DatadirCleanupManager$PurgeTask@144] - Purge task completed.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,908</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:Environment@100] - Server environment:java.home</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/usr/lib/jvm/java-8-oracle</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,913</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:Environment@100] - Server environment:java.class.path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/zookeeper/bin/../zookeeper-server/target/classes:/zookeeper/bin/../build/classes:/zookeeper/bin/../zookeeper-server/target/lib/*.jar:/zookeeper/bin/../build/lib/*.jar:/zookeeper/bin/../lib/slf4j-log4j12-1.7.25.jar:/zookeeper/bin/../lib/slf4j-api-1.7.25.jar:/zookeeper/bin/../lib/netty-3.10.6.Final.jar:/zookeeper/bin/../lib/log4j-1.2.17.jar:/zookeeper/bin/../lib/jline-0.9.94.jar:/zookeeper/bin/../lib/audience-annotations-0.5.0.jar:/zookeeper/bin/../zookeeper-3.4.14.jar:/zookeeper/bin/../zookeeper-server/src/main/resources/lib/*.jar:/zookeeper/bin/../conf:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,914</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:Environment@100] - Server environment:java.library.path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,917</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:Environment@100] - Server environment:java.io.tmpdir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/tmp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,930</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:Environment@100] - Server environment:java.compiler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">NA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,932</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:Environment@100] - Server environment:os.name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Linux</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,934</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:Environment@100] - Server environment:os.arch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">amd64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,937</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:Environment@100] - Server environment:os.version</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">6.8.0-90-generic</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,939</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:Environment@100] - Server environment:user.name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">root</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,946</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:Environment@100] - Server environment:user.home</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/root</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,947</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:Environment@100] - Server environment:user.dir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/zookeeper</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,963</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:ZooKeeperServer@836] - tickTime set to 2000</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,968</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:ZooKeeperServer@845] - minSessionTimeout set to -1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:16,973</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:ZooKeeperServer@854] - maxSessionTimeout set to -1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:17,010</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2026-02-22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:11:17,033</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:2181</span></span></code></pre></div><h3 id="_1-2-3-测试客户端连接zookeeper" tabindex="-1">1.2.3 测试客户端连接zookeeper <a class="header-anchor" href="#_1-2-3-测试客户端连接zookeeper" aria-label="Permalink to &quot;1.2.3 测试客户端连接zookeeper&quot;">​</a></h3><h2 id="_1-3-k8s运行zookeeper服务" tabindex="-1">1.3 k8s运行zookeeper服务 <a class="header-anchor" href="#_1-3-k8s运行zookeeper服务" aria-label="Permalink to &quot;1.3 k8s运行zookeeper服务&quot;">​</a></h2><h3 id="_1-3-1-yaml文件准备" tabindex="-1">1.3.1 yaml文件准备 <a class="header-anchor" href="#_1-3-1-yaml文件准备" aria-label="Permalink to &quot;1.3.1 yaml文件准备&quot;">​</a></h3><p>yaml目录结构</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># tree</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pv</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zookeeper-persistentvolume.yaml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zookeeper-persistentvolumeclaim.yaml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">└──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zookeeper.yaml</span></span></code></pre></div><h3 id="_1-3-2-创建pv" tabindex="-1">1.3.2 创建PV <a class="header-anchor" href="#_1-3-2-创建pv" aria-label="Permalink to &quot;1.3.2 创建PV&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># kubectl apply -f zookeeper-persistentvolume.yaml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">persistentvolume/zookeeper-datadir-pv-1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> created</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">persistentvolume/zookeeper-datadir-pv-2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> created</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">persistentvolume/zookeeper-datadir-pv-3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> created</span></span></code></pre></div><h3 id="_1-3-3-验证pv" tabindex="-1">1.3.3 验证PV <a class="header-anchor" href="#_1-3-3-验证pv" aria-label="Permalink to &quot;1.3.3 验证PV&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># kubectl get pv</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                       CAPACITY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ACCESS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MODES</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   RECLAIM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POLICY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   STATUS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      CLAIM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                 STORAGECLASS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   VOLUMEATTRIBUTESCLASS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   REASON</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   AGE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">zookeeper-datadir-pv-1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                     20Gi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       RWO</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            Retain</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           Available</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                                                        &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">unse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                          23s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">zookeeper-datadir-pv-2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                     20Gi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       RWO</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            Retain</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           Available</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                                                        &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">unse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                          23s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">zookeeper-datadir-pv-3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                     20Gi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       RWO</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            Retain</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           Available</span></span></code></pre></div><h3 id="_1-3-4-创建pvc" tabindex="-1">1.3.4 创建PVC <a class="header-anchor" href="#_1-3-4-创建pvc" aria-label="Permalink to &quot;1.3.4 创建PVC&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># kubectl apply -f zookeeper-persistentvolumeclaim.yaml</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">persistentvolumeclaim/zookeeper-datadir-pvc-1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> created</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">persistentvolumeclaim/zookeeper-datadir-pvc-2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> created</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">persistentvolumeclaim/zookeeper-datadir-pvc-3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> created</span></span></code></pre></div><h3 id="_1-3-5-验证pvc" tabindex="-1">1.3.5 验证PVC <a class="header-anchor" href="#_1-3-5-验证pvc" aria-label="Permalink to &quot;1.3.5 验证PVC&quot;">​</a></h3><h3 id="_1-3-6-kuboard验证存储卷" tabindex="-1">1.3.6 kuboard验证存储卷 <a class="header-anchor" href="#_1-3-6-kuboard验证存储卷" aria-label="Permalink to &quot;1.3.6 kuboard验证存储卷&quot;">​</a></h3><h3 id="_1-3-7-运行zookeeper集群" tabindex="-1">1.3.7 运行zookeeper集群 <a class="header-anchor" href="#_1-3-7-运行zookeeper集群" aria-label="Permalink to &quot;1.3.7 运行zookeeper集群&quot;">​</a></h3><h3 id="_1-3-8-验证zookeeper集群" tabindex="-1">1.3.8 验证zookeeper集群 <a class="header-anchor" href="#_1-3-8-验证zookeeper集群" aria-label="Permalink to &quot;1.3.8 验证zookeeper集群&quot;">​</a></h3><h3 id="_1-3-9-验证从外部访问zookeeper集群" tabindex="-1">1.3.9 验证从外部访问zookeeper集群 <a class="header-anchor" href="#_1-3-9-验证从外部访问zookeeper集群" aria-label="Permalink to &quot;1.3.9 验证从外部访问zookeeper集群&quot;">​</a></h3>`,26)])])}const E=i(k,[["render",e]]);export{g as __pageData,E as default};
